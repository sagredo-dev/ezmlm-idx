# This file is automatically generated, do not edit.
SHELL=/bin/sh
default: it

all: \
it installer mysql pgsql sqlite3 man

bin/ezmlm-accept: \
warn-auto.sh lib/auto_bin.sh bin/ezmlm-accept.sh
	cat warn-auto.sh lib/auto_bin.sh bin/ezmlm-accept.sh > bin/ezmlm-accept
	chmod 755 bin/ezmlm-accept

bin/ezmlm-accept.0: \
bin/ezmlm-accept.1
	nroff -man bin/ezmlm-accept.1 > bin/ezmlm-accept.0

bin/ezmlm-archive: \
load bin/ezmlm-archive.o libezmlm.a
	./load bin/ezmlm-archive -lezmlm

bin/ezmlm-archive.0: \
bin/ezmlm-archive.1
	nroff -man bin/ezmlm-archive.1 > bin/ezmlm-archive.0

bin/ezmlm-archive.o: \
compile bin/ezmlm-archive.c lib/alloc.h lib/byte.h lib/error.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/sig.h lib/getconf.h lib/strerr.h sys/hasattribute.h lib/getln.h lib/substdio.h lib/readwrite.h lib/fmt.h lib/getconfopt.h lib/idxthread.h lib/idx.h lib/makehash.h lib/lock.h lib/open.h lib/scan.h lib/die.h sys/hasattribute.h lib/wrap.h lib/idx.h lib/messages.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-archive.c

bin/ezmlm-cgi: \
load bin/ezmlm-cgi.o libezmlm.a
	./load bin/ezmlm-cgi -lezmlm

bin/ezmlm-cgi.0: \
bin/ezmlm-cgi.1
	nroff -man bin/ezmlm-cgi.1 > bin/ezmlm-cgi.0

bin/ezmlm-cgi.o: \
compile bin/ezmlm-cgi.c lib/alloc.h sys/direntry.h lib/datetime.h lib/now.h lib/datetime.h lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/error.h lib/env.h lib/sig.h lib/open.h lib/getln.h lib/case.h lib/scan.h lib/str.h lib/byte.h lib/fmt.h lib/readwrite.h lib/fork.h lib/wait.h lib/exit.h lib/substdio.h lib/getconf.h lib/gen_alloc.h lib/gen_allocdefs.h lib/constmap.h lib/byte.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/messages.h lib/makehash.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/wrap.h lib/die.h sys/hasattribute.h lib/idx.h lib/yyyymm.h lib/stralloc.h lib/gen_alloc.h lib/cgi.h sys/hasattribute.h lib/auto_etc.h
	./compile bin/ezmlm-cgi.c

bin/ezmlm-check: \
warn-auto.sh lib/auto_bin.sh lib/auto_qmail.sh bin/ezmlm-check.sh
	cat warn-auto.sh lib/auto_bin.sh lib/auto_qmail.sh bin/ezmlm-check.sh > bin/ezmlm-check
	chmod 755 bin/ezmlm-check

bin/ezmlm-check.0: \
bin/ezmlm-check.1
	nroff -man bin/ezmlm-check.1 > bin/ezmlm-check.0

bin/ezmlm-checksub: \
load bin/ezmlm-checksub.o libezmlm.a dl.lib
	./load bin/ezmlm-checksub -lezmlm `cat dl.lib`

bin/ezmlm-checksub.0: \
bin/ezmlm-checksub.1
	nroff -man bin/ezmlm-checksub.1 > bin/ezmlm-checksub.0

bin/ezmlm-checksub.o: \
compile bin/ezmlm-checksub.c lib/strerr.h sys/hasattribute.h lib/env.h lib/sender.h lib/str.h lib/byte.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/subfd.h lib/substdio.h lib/substdio.h lib/getconfopt.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-checksub.c

bin/ezmlm-clean: \
load bin/ezmlm-clean.o libezmlm.a
	./load bin/ezmlm-clean -lezmlm

bin/ezmlm-clean.0: \
bin/ezmlm-clean.1
	nroff -man bin/ezmlm-clean.1 > bin/ezmlm-clean.0

bin/ezmlm-clean.o: \
compile bin/ezmlm-clean.c lib/error.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/env.h lib/sig.h lib/getconf.h lib/getconfopt.h lib/strerr.h sys/hasattribute.h lib/byte.h lib/getln.h lib/case.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/substdio.h lib/readwrite.h lib/seek.h lib/quote.h lib/datetime.h lib/now.h lib/datetime.h sys/direntry.h lib/cookie.h lib/fmt.h lib/messages.h lib/copy.h lib/cookie.h lib/datetime.h lib/open.h lib/scan.h lib/lock.h lib/hdr.h lib/die.h sys/hasattribute.h lib/idx.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-clean.c

bin/ezmlm-confirm: \
load bin/ezmlm-confirm.o libezmlm.a
	./load bin/ezmlm-confirm -lezmlm

bin/ezmlm-confirm.0: \
bin/ezmlm-confirm.1
	nroff -man bin/ezmlm-confirm.1 > bin/ezmlm-confirm.0

bin/ezmlm-confirm.o: \
compile bin/ezmlm-confirm.c lib/error.h lib/case.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/env.h lib/sender.h lib/error.h lib/sig.h lib/fork.h lib/wait.h lib/strerr.h sys/hasattribute.h lib/byte.h lib/getln.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/substdio.h lib/readwrite.h lib/seek.h lib/quote.h lib/datetime.h lib/now.h lib/datetime.h lib/fmt.h lib/getconfopt.h lib/cookie.h lib/messages.h lib/copy.h lib/cookie.h lib/datetime.h lib/open.h lib/lock.h lib/wrap.h lib/die.h sys/hasattribute.h lib/idx.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-confirm.c

bin/ezmlm-cron: \
load bin/ezmlm-cron.o libezmlm.a
	./load bin/ezmlm-cron -lezmlm

bin/ezmlm-cron.0: \
bin/ezmlm-cron.1
	nroff -man bin/ezmlm-cron.1 > bin/ezmlm-cron.0

bin/ezmlm-cron.o: \
compile bin/ezmlm-cron.c lib/strerr.h sys/hasattribute.h lib/stralloc.h lib/gen_alloc.h lib/getconfopt.h lib/substdio.h lib/error.h lib/str.h lib/byte.h lib/fmt.h lib/wait.h lib/readwrite.h lib/sig.h lib/case.h lib/scan.h lib/open.h lib/lock.h lib/byte.h lib/getln.h lib/auto_qmail.h lib/auto_cron.h lib/auto_version.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h lib/wrap.h
	./compile bin/ezmlm-cron.c

bin/ezmlm-dispatch: \
load bin/ezmlm-dispatch.o libezmlm.a
	./load bin/ezmlm-dispatch -lezmlm

bin/ezmlm-dispatch.0: \
bin/ezmlm-dispatch.1
	nroff -man bin/ezmlm-dispatch.1 > bin/ezmlm-dispatch.0

bin/ezmlm-dispatch.o: \
compile bin/ezmlm-dispatch.c lib/env.h lib/sender.h lib/strerr.h sys/hasattribute.h lib/sgetopt.h lib/subgetopt.h lib/getconfopt.h lib/substdio.h lib/subfd.h lib/substdio.h lib/messages.h lib/error.h lib/byte.h lib/fmt.h lib/str.h lib/byte.h lib/stralloc.h lib/gen_alloc.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/seek.h lib/wrap.h lib/slurp.h lib/die.h sys/hasattribute.h lib/auto_version.h
	./compile bin/ezmlm-dispatch.c

bin/ezmlm-gate: \
load bin/ezmlm-gate.o libezmlm.a dl.lib
	./load bin/ezmlm-gate -lezmlm `cat dl.lib`

bin/ezmlm-gate.0: \
bin/ezmlm-gate.1
	nroff -man bin/ezmlm-gate.1 > bin/ezmlm-gate.0

bin/ezmlm-gate.o: \
compile bin/ezmlm-gate.c lib/substdio.h lib/subfd.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/error.h lib/env.h lib/sender.h lib/sig.h lib/str.h lib/byte.h lib/seek.h lib/wait.h lib/exit.h lib/getconf.h lib/auto_bin.h lib/getconfopt.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/wrap.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-gate.c

bin/ezmlm-get: \
load bin/ezmlm-get.o libezmlm.a dl.lib
	./load bin/ezmlm-get -lezmlm `cat dl.lib`

bin/ezmlm-get.0: \
bin/ezmlm-get.1
	nroff -man bin/ezmlm-get.1 > bin/ezmlm-get.0

bin/ezmlm-get.o: \
compile bin/ezmlm-get.c lib/alloc.h lib/error.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/env.h lib/sender.h lib/sig.h lib/getconf.h lib/strerr.h sys/hasattribute.h lib/byte.h lib/getln.h lib/case.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/substdio.h lib/readwrite.h lib/seek.h lib/quote.h lib/datetime.h lib/now.h lib/datetime.h lib/date822fmt.h lib/fmt.h lib/getconfopt.h lib/cookie.h lib/makehash.h lib/copy.h lib/cookie.h lib/datetime.h lib/constmap.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/hdr.h lib/open.h lib/lock.h lib/scan.h lib/idxthread.h lib/idx.h lib/die.h sys/hasattribute.h lib/wrap.h lib/idx.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/messages.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-get.c

bin/ezmlm-glconf: \
warn-auto.sh lib/auto_bin.sh bin/ezmlm-glconf.sh
	cat warn-auto.sh lib/auto_bin.sh bin/ezmlm-glconf.sh > bin/ezmlm-glconf
	chmod 755 bin/ezmlm-glconf

bin/ezmlm-glconf.0: \
bin/ezmlm-glconf.1
	nroff -man bin/ezmlm-glconf.1 > bin/ezmlm-glconf.0

bin/ezmlm-idx: \
load bin/ezmlm-idx.o libezmlm.a
	./load bin/ezmlm-idx -lezmlm

bin/ezmlm-idx.0: \
bin/ezmlm-idx.1
	nroff -man bin/ezmlm-idx.1 > bin/ezmlm-idx.0

bin/ezmlm-idx.o: \
compile bin/ezmlm-idx.c lib/stralloc.h lib/gen_alloc.h lib/subfd.h lib/substdio.h lib/strerr.h sys/hasattribute.h lib/error.h lib/lock.h lib/slurp.h lib/open.h lib/getln.h lib/getconfopt.h lib/case.h lib/scan.h lib/str.h lib/byte.h lib/fmt.h lib/readwrite.h lib/exit.h lib/substdio.h lib/sig.h lib/byte.h lib/die.h sys/hasattribute.h lib/idx.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/wrap.h lib/messages.h lib/getconf.h lib/makehash.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-idx.c

bin/ezmlm-import: \
load bin/ezmlm-import.o libezmlm.a
	./load bin/ezmlm-import -lezmlm

bin/ezmlm-import.0: \
bin/ezmlm-import.1
	nroff -man bin/ezmlm-import.1 > bin/ezmlm-import.0

bin/ezmlm-import.o: \
compile bin/ezmlm-import.c lib/stralloc.h lib/gen_alloc.h lib/getconf.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/error.h lib/strerr.h sys/hasattribute.h lib/substdio.h lib/lock.h lib/open.h lib/messages.h lib/die.h sys/hasattribute.h lib/wrap.h lib/fmt.h lib/getln.h lib/byte.h lib/idx.h lib/getconfopt.h lib/auto_version.h
	./compile bin/ezmlm-import.c

bin/ezmlm-issubn: \
load bin/ezmlm-issubn.o libezmlm.a dl.lib
	./load bin/ezmlm-issubn -lezmlm `cat dl.lib`

bin/ezmlm-issubn.0: \
bin/ezmlm-issubn.1
	nroff -man bin/ezmlm-issubn.1 > bin/ezmlm-issubn.0

bin/ezmlm-issubn.o: \
compile bin/ezmlm-issubn.c lib/strerr.h sys/hasattribute.h lib/env.h lib/sender.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/getconfopt.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-issubn.c

bin/ezmlm-limit: \
load bin/ezmlm-limit.o libezmlm.a
	./load bin/ezmlm-limit -lezmlm

bin/ezmlm-limit.0: \
bin/ezmlm-limit.1
	nroff -man bin/ezmlm-limit.1 > bin/ezmlm-limit.0

bin/ezmlm-limit.o: \
compile bin/ezmlm-limit.c lib/stralloc.h lib/gen_alloc.h lib/substdio.h lib/readwrite.h lib/strerr.h sys/hasattribute.h lib/sig.h lib/lock.h lib/getconf.h lib/fmt.h lib/now.h lib/datetime.h lib/getconfopt.h lib/error.h lib/scan.h lib/open.h lib/messages.h lib/die.h sys/hasattribute.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/idx.h
	./compile bin/ezmlm-limit.c

bin/ezmlm-list: \
load bin/ezmlm-list.o libezmlm.a dl.lib
	./load bin/ezmlm-list -lezmlm `cat dl.lib`

bin/ezmlm-list.0: \
bin/ezmlm-list.1
	nroff -man bin/ezmlm-list.1 > bin/ezmlm-list.0

bin/ezmlm-list.o: \
compile bin/ezmlm-list.c lib/strerr.h sys/hasattribute.h lib/readwrite.h lib/substdio.h lib/subfd.h lib/substdio.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/exit.h lib/fmt.h lib/getconfopt.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-list.c

bin/ezmlm-make: \
load bin/ezmlm-make.o libezmlm.a dl.lib
	./load bin/ezmlm-make -lezmlm `cat dl.lib`

bin/ezmlm-make.0: \
bin/ezmlm-make.1
	nroff -man bin/ezmlm-make.1 > bin/ezmlm-make.0

bin/ezmlm-make.o: \
compile bin/ezmlm-make.c lib/sgetopt.h lib/subgetopt.h lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/exit.h lib/readwrite.h lib/byte.h lib/open.h lib/substdio.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/wrap.h lib/auto_bin.h lib/getln.h lib/error.h lib/lock.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h lib/auto_etc.h lib/auto_version.h
	./compile bin/ezmlm-make.c

bin/ezmlm-manage: \
load bin/ezmlm-manage.o libezmlm.a dl.lib
	./load bin/ezmlm-manage -lezmlm `cat dl.lib`

bin/ezmlm-manage.0: \
bin/ezmlm-manage.1
	nroff -man bin/ezmlm-manage.1 > bin/ezmlm-manage.0

bin/ezmlm-manage.o: \
compile bin/ezmlm-manage.c lib/error.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/env.h lib/sender.h lib/sig.h lib/slurp.h lib/getconf.h lib/strerr.h sys/hasattribute.h lib/byte.h lib/getln.h lib/case.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/substdio.h lib/readwrite.h lib/seek.h lib/quote.h lib/datetime.h lib/now.h lib/datetime.h lib/fmt.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/cookie.h lib/getconfopt.h lib/copy.h lib/cookie.h lib/datetime.h lib/messages.h lib/open.h lib/lock.h lib/scan.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/hdr.h lib/die.h sys/hasattribute.h lib/wrap.h lib/idx.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-manage.c

bin/ezmlm-moderate: \
load bin/ezmlm-moderate.o libezmlm.a
	./load bin/ezmlm-moderate -lezmlm

bin/ezmlm-moderate.0: \
bin/ezmlm-moderate.1
	nroff -man bin/ezmlm-moderate.1 > bin/ezmlm-moderate.0

bin/ezmlm-moderate.o: \
compile bin/ezmlm-moderate.c lib/error.h lib/case.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/env.h lib/sender.h lib/error.h lib/sig.h lib/wait.h lib/strerr.h sys/hasattribute.h lib/byte.h lib/getln.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/substdio.h lib/subfd.h lib/substdio.h lib/readwrite.h lib/seek.h lib/quote.h lib/datetime.h lib/now.h lib/datetime.h lib/fmt.h lib/getconfopt.h lib/cookie.h lib/messages.h lib/copy.h lib/cookie.h lib/datetime.h lib/hdr.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/open.h lib/lock.h lib/die.h sys/hasattribute.h lib/idx.h lib/wrap.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-moderate.c

bin/ezmlm-receipt.0: \
bin/ezmlm-receipt.1
	nroff -man bin/ezmlm-receipt.1 > bin/ezmlm-receipt.0

bin/ezmlm-reject: \
load bin/ezmlm-reject.o libezmlm.a
	./load bin/ezmlm-reject -lezmlm

bin/ezmlm-reject.0: \
bin/ezmlm-reject.1
	nroff -man bin/ezmlm-reject.1 > bin/ezmlm-reject.0

bin/ezmlm-reject.o: \
compile bin/ezmlm-reject.c lib/strerr.h sys/hasattribute.h lib/substdio.h lib/byte.h lib/case.h lib/str.h lib/byte.h lib/readwrite.h lib/stralloc.h lib/gen_alloc.h lib/getln.h lib/getconfopt.h lib/getconf.h lib/constmap.h lib/fmt.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/seek.h lib/scan.h lib/env.h lib/sender.h lib/messages.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/die.h sys/hasattribute.h lib/idx.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-reject.c

bin/ezmlm-request: \
load bin/ezmlm-request.o libezmlm.a dl.lib
	./load bin/ezmlm-request -lezmlm `cat dl.lib`

bin/ezmlm-request.0: \
bin/ezmlm-request.1
	nroff -man bin/ezmlm-request.1 > bin/ezmlm-request.0

bin/ezmlm-request.o: \
compile bin/ezmlm-request.c lib/stralloc.h lib/gen_alloc.h lib/subfd.h lib/substdio.h lib/strerr.h sys/hasattribute.h lib/error.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/env.h lib/sender.h lib/sig.h lib/open.h lib/getln.h lib/case.h lib/str.h lib/byte.h lib/datetime.h lib/now.h lib/datetime.h lib/quote.h lib/readwrite.h lib/exit.h lib/substdio.h lib/getconf.h lib/constmap.h lib/fmt.h lib/getconfopt.h lib/byte.h lib/seek.h lib/messages.h lib/copy.h lib/cookie.h lib/datetime.h lib/cookie.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/hdr.h lib/die.h sys/hasattribute.h lib/idx.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-request.c

bin/ezmlm-return: \
load bin/ezmlm-return.o libezmlm.a dl.lib
	./load bin/ezmlm-return -lezmlm `cat dl.lib`

bin/ezmlm-return.0: \
bin/ezmlm-return.1
	nroff -man bin/ezmlm-return.1 > bin/ezmlm-return.0

bin/ezmlm-return.o: \
compile bin/ezmlm-return.c sys/direntry.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/env.h lib/sender.h lib/sig.h lib/strerr.h sys/hasattribute.h lib/byte.h lib/case.h lib/open.h lib/scan.h lib/lock.h lib/slurpclose.h lib/getln.h lib/substdio.h lib/error.h lib/quote.h lib/readwrite.h lib/fmt.h lib/now.h lib/datetime.h lib/cookie.h lib/getconfopt.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/messages.h lib/die.h sys/hasattribute.h lib/wrap.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/idx.h lib/auto_version.h
	./compile bin/ezmlm-return.c

bin/ezmlm-rmtab: \
load bin/ezmlm-rmtab.o libezmlm.a dl.lib
	./load bin/ezmlm-rmtab -lezmlm `cat dl.lib`

bin/ezmlm-rmtab.0: \
bin/ezmlm-rmtab.1
	nroff -man bin/ezmlm-rmtab.1 > bin/ezmlm-rmtab.0

bin/ezmlm-rmtab.o: \
compile bin/ezmlm-rmtab.c lib/strerr.h sys/hasattribute.h lib/readwrite.h lib/substdio.h lib/subfd.h lib/substdio.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/exit.h lib/fmt.h lib/getconfopt.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-rmtab.c

bin/ezmlm-send: \
load bin/ezmlm-send.o libezmlm.a dl.lib
	./load bin/ezmlm-send -lezmlm `cat dl.lib`

bin/ezmlm-send.0: \
bin/ezmlm-send.1
	nroff -man bin/ezmlm-send.1 > bin/ezmlm-send.0

bin/ezmlm-send.o: \
compile bin/ezmlm-send.c lib/stralloc.h lib/gen_alloc.h lib/subfd.h lib/substdio.h lib/strerr.h sys/hasattribute.h lib/error.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/env.h lib/sender.h lib/lock.h lib/sig.h lib/open.h lib/getln.h lib/case.h lib/scan.h lib/str.h lib/byte.h lib/fmt.h lib/readwrite.h lib/exit.h lib/substdio.h lib/getconf.h lib/constmap.h lib/byte.h lib/getconfopt.h lib/quote.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/messages.h lib/makehash.h lib/cookie.h lib/dmarc.h lib/stralloc.h lib/gen_alloc.h lib/hdr.h lib/die.h sys/hasattribute.h lib/wrap.h lib/idx.h lib/copy.h lib/cookie.h lib/datetime.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-send.c

bin/ezmlm-split: \
load bin/ezmlm-split.o libezmlm.a
	./load bin/ezmlm-split -lezmlm

bin/ezmlm-split.0: \
bin/ezmlm-split.1
	nroff -man bin/ezmlm-split.1 > bin/ezmlm-split.0

bin/ezmlm-split.o: \
compile bin/ezmlm-split.c lib/error.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/env.h lib/sender.h lib/sig.h lib/open.h lib/scan.h lib/strerr.h sys/hasattribute.h lib/byte.h lib/getln.h lib/case.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/getconfopt.h lib/subfd.h lib/substdio.h lib/substdio.h lib/readwrite.h lib/quote.h lib/now.h lib/datetime.h sys/uint32.h lib/subhash.h lib/fmt.h lib/messages.h lib/die.h sys/hasattribute.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/idx.h lib/auto_version.h
	./compile bin/ezmlm-split.c

bin/ezmlm-store: \
load bin/ezmlm-store.o libezmlm.a dl.lib
	./load bin/ezmlm-store -lezmlm `cat dl.lib`

bin/ezmlm-store.0: \
bin/ezmlm-store.1
	nroff -man bin/ezmlm-store.1 > bin/ezmlm-store.0

bin/ezmlm-store.o: \
compile bin/ezmlm-store.c lib/stralloc.h lib/gen_alloc.h lib/subfd.h lib/substdio.h lib/strerr.h sys/hasattribute.h lib/error.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/env.h lib/sender.h lib/lock.h lib/sig.h lib/open.h lib/getln.h lib/str.h lib/byte.h lib/fmt.h lib/readwrite.h lib/wait.h lib/exit.h lib/substdio.h lib/getconf.h lib/datetime.h lib/now.h lib/datetime.h lib/cookie.h lib/getconfopt.h lib/messages.h lib/byte.h lib/case.h lib/quote.h lib/hdr.h lib/die.h sys/hasattribute.h lib/idx.h lib/copy.h lib/cookie.h lib/datetime.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/wrap.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-store.c

bin/ezmlm-sub: \
load bin/ezmlm-sub.o bin/ezmlm-subunsub.o libezmlm.a dl.lib
	./load bin/ezmlm-sub bin/ezmlm-subunsub.o -lezmlm `cat dl.lib`

bin/ezmlm-sub.0: \
bin/ezmlm-sub.1
	nroff -man bin/ezmlm-sub.1 > bin/ezmlm-sub.0

bin/ezmlm-sub.o: \
compile bin/ezmlm-sub.c sys/hasattribute.h
	./compile bin/ezmlm-sub.c

bin/ezmlm-subunsub.o: \
compile bin/ezmlm-subunsub.c lib/strerr.h sys/hasattribute.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/getconfopt.h lib/str.h lib/byte.h lib/stralloc.h lib/gen_alloc.h lib/substdio.h lib/subfd.h lib/substdio.h lib/readwrite.h lib/getln.h lib/scan.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/auto_version.h
	./compile bin/ezmlm-subunsub.c

bin/ezmlm-test: \
warn-auto.sh conf-qmail VERSION Makefile tests/130-ezmlm-weed tests/100-ezmlm-make tests/506-messages tests/00-config tests/02-functions tests/116-ezmlm-checksub tests/270-ezmlm-moderate tests/513-ezmlm-manage-modsub tests/511-ezmlm-manage-subprobe tests/125-ezmlm-tstdig tests/160-ezmlm-manage tests/512-ezmlm-manage-unsubscribe tests/260-ezmlm-manage tests/115-ezmlm-sub tests/145-ezmlm-store tests/400-decode-sender tests/511-ezmlm-manage-unsubprobe tests/223-ezmlm-get-thread tests/120-ezmlm-send tests/560-addtrailer tests/505-substs tests/180-ezmlm-gate tests/210-ezmlm-idx tests/90-cleanup tests/01-misc tests/170-ezmlm-split tests/519-ezmlm-manage-copylines tests/514-ezmlm-manage-subbymod tests/512-ezmlm-manage-subscribe tests/150-ezmlm-return tests/140-ezmlm-clean tests/165-ezmlm-request tests/221-ezmlm-get-index tests/119-ezmlm-sql tests/550-ezmlm-send tests/513-ezmlm-manage-modunsub tests/510-ezmlm-manage-subnop tests/500-export tests/510-ezmlm-manage-unsubnop tests/280-ezmlm-warn tests/514-ezmlm-manage-unsubbymod tests/225-ezmlm-get-digest tests/310-dispatch-editor tests/119-ezmlm-nosql tests/551-ezmlm-send-rewritefrom tests/222-ezmlm-get-get tests/504-flags tests/570-omitbottom tests/155-ezmlm-warn tests/135-ezmlmrc tests/09-getconfopt tests/290-ezmlm-archive tests/300-ezmlm-dispatch tests/99-bugs tests/110-ezmlm-reject
	( cat warn-auto.sh; \
	  echo VER=\"`head -n 1 VERSION`\"; \
	  cat tests/*-* ) > bin/ezmlm-test
	chmod 755 bin/ezmlm-test

bin/ezmlm-test.0: \
bin/ezmlm-test.1
	nroff -man bin/ezmlm-test.1 > bin/ezmlm-test.0

bin/ezmlm-tstdig: \
load bin/ezmlm-tstdig.o libezmlm.a
	./load bin/ezmlm-tstdig -lezmlm

bin/ezmlm-tstdig.0: \
bin/ezmlm-tstdig.1
	nroff -man bin/ezmlm-tstdig.1 > bin/ezmlm-tstdig.0

bin/ezmlm-tstdig.o: \
compile bin/ezmlm-tstdig.c lib/stralloc.h lib/gen_alloc.h lib/substdio.h lib/readwrite.h lib/strerr.h sys/hasattribute.h lib/sig.h lib/getconf.h lib/env.h lib/fmt.h lib/now.h lib/datetime.h lib/lock.h lib/getconfopt.h lib/messages.h lib/scan.h lib/case.h lib/str.h lib/byte.h lib/open.h lib/die.h sys/hasattribute.h lib/wrap.h lib/idx.h lib/config.h lib/stralloc.h lib/gen_alloc.h
	./compile bin/ezmlm-tstdig.c

bin/ezmlm-unsub: \
load bin/ezmlm-unsub.o bin/ezmlm-subunsub.o libezmlm.a dl.lib
	./load bin/ezmlm-unsub bin/ezmlm-subunsub.o -lezmlm `cat dl.lib`

bin/ezmlm-unsub.0: \
bin/ezmlm-unsub.1
	nroff -man bin/ezmlm-unsub.1 > bin/ezmlm-unsub.0

bin/ezmlm-unsub.o: \
compile bin/ezmlm-unsub.c sys/hasattribute.h
	./compile bin/ezmlm-unsub.c

bin/ezmlm-warn: \
load bin/ezmlm-warn.o libezmlm.a dl.lib
	./load bin/ezmlm-warn -lezmlm `cat dl.lib`

bin/ezmlm-warn.0: \
bin/ezmlm-warn.1
	nroff -man bin/ezmlm-warn.1 > bin/ezmlm-warn.0

bin/ezmlm-warn.o: \
compile bin/ezmlm-warn.c sys/direntry.h lib/readwrite.h lib/getln.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/slurp.h lib/getconfopt.h lib/getconf.h lib/byte.h lib/error.h lib/str.h lib/byte.h lib/strerr.h sys/hasattribute.h lib/sig.h lib/now.h lib/datetime.h lib/datetime.h lib/fmt.h lib/cookie.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/messages.h lib/quote.h lib/open.h lib/scan.h lib/lock.h lib/copy.h lib/cookie.h lib/datetime.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/hdr.h lib/die.h sys/hasattribute.h lib/wrap.h lib/idx.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h
	./compile bin/ezmlm-warn.c

bin/ezmlm-weed: \
load bin/ezmlm-weed.o libezmlm.a
	./load bin/ezmlm-weed -lezmlm

bin/ezmlm-weed.0: \
bin/ezmlm-weed.1
	nroff -man bin/ezmlm-weed.1 > bin/ezmlm-weed.0

bin/ezmlm-weed.o: \
compile bin/ezmlm-weed.c lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/byte.h lib/case.h lib/readwrite.h lib/substdio.h lib/subfd.h lib/substdio.h lib/getln.h lib/strerr.h sys/hasattribute.h lib/messages.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/die.h sys/hasattribute.h
	./compile bin/ezmlm-weed.c

build/auto-str: \
load build/auto-str.o lib/subfdout.lo lib/subfdin.lo lib/substdi.lo lib/substdo.lo lib/str_chr.lo lib/error.lo
	./load build/auto-str lib/subfdout.lo lib/subfdin.lo lib/substdi.lo lib/substdo.lo lib/str_chr.lo lib/error.lo

build/auto-str.o: \
compile build/auto-str.c lib/str.h lib/byte.h lib/subfd.h lib/substdio.h lib/substdio.h lib/readwrite.h lib/exit.h
	./compile build/auto-str.c

build/choose: \
warn-auto.sh build/choose.sh
	cat warn-auto.sh build/choose.sh > build/choose
	chmod 755 build/choose

clean: \
TARGETS
	rm -f `cat TARGETS`

compile: \
build/make-compile.sh warn-auto.sh systype conf-cc conf-cclo conf-ld conf-ldso
	( cat warn-auto.sh; sh build/make-compile.sh "`cat systype`" ) > compile
	chmod 755 compile

crypt.lib: \
compile load sys/trylib.c
	( ( ./compile sys/trylib.c && ./load sys/trylib -lcrypt ) >/dev/null 2>&1 && echo -lcrypt || exit 0 ) >crypt.lib
	rm -f sys/trylib.o sys/trylib

db/sub-mysql.lo: \
libcompile db/sub-mysql.c lib/byte.h lib/die.h sys/hasattribute.h lib/str.h lib/byte.h lib/strerr.h sys/hasattribute.h lib/sub_sql.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h
	./libcompile db/sub-mysql.c

db/sub-mysql.so: \
makeso db/sub-mysql.lo db/sub_sql.lo libezmlm.a nsl.lib m.lib
	./makeso db/sub-mysql.so db/sub-mysql.lo db/sub_sql.lo -lezmlm -lmysqlclient `cat nsl.lib` `cat m.lib`

db/sub-pgsql.lo: \
libcompile db/sub-pgsql.c lib/die.h sys/hasattribute.h lib/fmt.h lib/scan.h lib/strerr.h sys/hasattribute.h lib/sub_sql.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h
	./libcompile db/sub-pgsql.c

db/sub-pgsql.so: \
makeso db/sub-pgsql.lo db/sub_sql.lo libezmlm.a crypt.lib
	./makeso db/sub-pgsql.so db/sub-pgsql.lo db/sub_sql.lo -lezmlm -lpq `cat crypt.lib`

db/sub-sqlite3.lo: \
libcompile db/sub-sqlite3.c lib/die.h sys/hasattribute.h lib/strerr.h sys/hasattribute.h lib/sub_sql.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h
	./libcompile db/sub-sqlite3.c

db/sub-sqlite3.so: \
makeso db/sub-sqlite3.lo db/sub_sql.lo libezmlm.a crypt.lib
	./makeso db/sub-sqlite3.so db/sub-sqlite3.lo db/sub_sql.lo -lezmlm -lsqlite3 `cat crypt.lib`

db/sub-std.lo: \
libcompile db/sub-std.c lib/byte.h lib/case.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/cookie.h lib/date822fmt.h lib/datetime.h lib/die.h sys/hasattribute.h lib/error.h lib/messages.h lib/fmt.h lib/getln.h lib/idx.h lib/lock.h lib/log.h lib/makehash.h lib/open.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/readwrite.h lib/scan.h lib/slurp.h lib/str.h lib/byte.h lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/sub_std.h lib/stralloc.h lib/gen_alloc.h lib/subhash.h lib/substdio.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h sys/uint32.h lib/wrap.h
	./libcompile db/sub-std.c

db/sub-std.so: \
makeso db/sub-std.lo libezmlm.a
	./makeso db/sub-std.so db/sub-std.lo -lezmlm

db/sub_sql.lo: \
libcompile db/sub_sql.c lib/byte.h lib/case.h lib/cookie.h lib/date822fmt.h lib/datetime.h lib/die.h sys/hasattribute.h lib/fmt.h lib/log.h lib/messages.h lib/scan.h lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/sub_sql.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/subhash.h
	./libcompile db/sub_sql.c

dl.lib: \
compile load sys/trylib.c
	( ( ./compile sys/trylib.c && ./load sys/trylib -ldl ) >/dev/null 2>&1 && echo -ldl || exit 0 ) >dl.lib
	rm -f sys/trylib.o sys/trylib

ezmlm-idx.spec: \
ezmlm-idx.spec.template VERSION build/fill-template.sh
	sh build/fill-template.sh ezmlm-idx.spec

ezmlm.0: \
ezmlm.5
	nroff -man ezmlm.5 > ezmlm.0

ezmlmglrc.0: \
ezmlmglrc.5
	nroff -man ezmlmglrc.5 > ezmlmglrc.0

ezmlmrc: \
ezmlmrc.template VERSION build/fill-template.sh
	sh build/fill-template.sh ezmlmrc

ezmlmrc.0: \
ezmlmrc.5
	nroff -man ezmlmrc.5 > ezmlmrc.0

ezmlmrc.all: \
lang/cs/ezmlmrc lang/de/ezmlmrc lang/sv/ezmlmrc lang/fr/ezmlmrc lang/da/ezmlmrc lang/nl/ezmlmrc lang/pl/ezmlmrc lang/ru/ezmlmrc lang/es/ezmlmrc lang/pt_BR/ezmlmrc lang/pt/ezmlmrc lang/id/ezmlmrc lang/it/ezmlmrc lang/ja/ezmlmrc lang/en_US/ezmlmrc lang/ch_GB/ezmlmrc lang/hu/ezmlmrc

ezmlmsubrc.0: \
ezmlmsubrc.5
	nroff -man ezmlmsubrc.5 > ezmlmsubrc.0

install: \
it man installer conf-bin conf-etc conf-lang conf-lib conf-man BIN ETC LIB MAN
	./installer "$(DESTDIR)`head -n 1 conf-bin`" < BIN
	./installer "$(DESTDIR)`head -n 1 conf-etc`" < ETC
	./installer "$(DESTDIR)`head -n 1 conf-man`" < MAN
	./installer "$(DESTDIR)`head -n 1 conf-lib`" < LIB
	rm -f "$(DESTDIR)`head -n 1 conf-etc`"/default
	ln -sf "`head -n 1 conf-lang`" "$(DESTDIR)`head -n 1 conf-etc`"/default

installer: \
load installer.o libezmlm.a
	./load installer -lezmlm

installer.o: \
compile installer.c lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/getln.h lib/readwrite.h lib/exit.h lib/open.h lib/error.h lib/strerr.h sys/hasattribute.h lib/byte.h lib/scan.h
	./compile installer.c

it: \
bin/ezmlm-clean bin/ezmlm-get bin/ezmlm-unsub bin/ezmlm-reject bin/ezmlm-make bin/ezmlm-gate bin/ezmlm-cron bin/ezmlm-sub bin/ezmlm-warn bin/ezmlm-issubn bin/ezmlm-split bin/ezmlm-request bin/ezmlm-checksub bin/ezmlm-tstdig bin/ezmlm-rmtab bin/ezmlm-store bin/ezmlm-manage bin/ezmlm-dispatch bin/ezmlm-return bin/ezmlm-idx bin/ezmlm-weed bin/ezmlm-list bin/ezmlm-cgi bin/ezmlm-limit bin/ezmlm-import bin/ezmlm-confirm bin/ezmlm-moderate bin/ezmlm-send bin/ezmlm-archive bin/ezmlm-glconf bin/ezmlm-check bin/ezmlm-accept test/getconfopt bin/ezmlm-test db/sub-std.so ezmlmrc.all messages.all ezmlm-idx.spec

lang/ch_GB/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh ch_GB

lang/cs/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh cs

lang/cs/text/messages: \
build/make-messages.sh lang/cs/messages
	sh build/make-messages.sh < lang/cs/messages > lang/cs/text/messages

lang/da/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh da

lang/da/text/messages: \
build/make-messages.sh lang/da/messages
	sh build/make-messages.sh < lang/da/messages > lang/da/text/messages

lang/de/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh de

lang/de/text/messages: \
build/make-messages.sh lang/de/messages
	sh build/make-messages.sh < lang/de/messages > lang/de/text/messages

lang/en_US/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh en_US

lang/en_US/text/messages: \
build/make-messages.sh lang/en_US/messages
	sh build/make-messages.sh < lang/en_US/messages > lang/en_US/text/messages

lang/es/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh es

lang/fr/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh fr

lang/fr/text/messages: \
build/make-messages.sh lang/fr/messages
	sh build/make-messages.sh < lang/fr/messages > lang/fr/text/messages

lang/hu/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh hu

lang/hu/text/messages: \
build/make-messages.sh lang/hu/messages
	sh build/make-messages.sh < lang/hu/messages > lang/hu/text/messages

lang/id/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh id

lang/id/text/messages: \
build/make-messages.sh lang/id/messages
	sh build/make-messages.sh < lang/id/messages > lang/id/text/messages

lang/it/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh it

lang/it/text/messages: \
build/make-messages.sh lang/it/messages
	sh build/make-messages.sh < lang/it/messages > lang/it/text/messages

lang/ja/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh ja

lang/nl/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh nl

lang/nl/text/messages: \
build/make-messages.sh lang/nl/messages
	sh build/make-messages.sh < lang/nl/messages > lang/nl/text/messages

lang/pl/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh pl

lang/pl/text/messages: \
build/make-messages.sh lang/pl/messages
	sh build/make-messages.sh < lang/pl/messages > lang/pl/text/messages

lang/pt/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh pt

lang/pt/text/messages: \
build/make-messages.sh lang/pt/messages
	sh build/make-messages.sh < lang/pt/messages > lang/pt/text/messages

lang/pt_BR/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh pt_BR

lang/pt_BR/text/messages: \
build/make-messages.sh lang/pt_BR/messages
	sh build/make-messages.sh < lang/pt_BR/messages > lang/pt_BR/text/messages

lang/ru/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh ru

lang/sv/ezmlmrc: \
build/makelang.sh ezmlmrc
	sh build/makelang.sh sv

lang/sv/text/messages: \
build/make-messages.sh lang/sv/messages
	sh build/make-messages.sh < lang/sv/messages > lang/sv/text/messages

lib/alloc.0: \
lib/alloc.3
	nroff -man lib/alloc.3 > lib/alloc.0

lib/alloc.lo: \
libcompile lib/alloc.c lib/alloc.h lib/die.h sys/hasattribute.h
	./libcompile lib/alloc.c

lib/alloc_re.lo: \
libcompile lib/alloc_re.c lib/alloc.h lib/byte.h
	./libcompile lib/alloc_re.c

lib/altpath.lo: \
libcompile lib/altpath.c lib/stralloc.h lib/gen_alloc.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/die.h sys/hasattribute.h lib/env.h lib/error.h lib/open.h lib/slurp.h lib/altpath.h lib/idx.h lib/auto_etc.h
	./libcompile lib/altpath.c

lib/author.lo: \
libcompile lib/author.c lib/die.h sys/hasattribute.h lib/mime.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/author.c

lib/auto_bin.c: \
build/auto-str conf-bin
	build/auto-str auto_bin EZMLM_BIN < conf-bin > lib/auto_bin.c

lib/auto_bin.lo: \
libcompile lib/auto_bin.c
	./libcompile lib/auto_bin.c

lib/auto_bin.sh: \
build/auto-sh-str.sh conf-bin
	sh build/auto-sh-str.sh EZPATH EZMLM_BIN < conf-bin > lib/auto_bin.sh

lib/auto_cron.c: \
build/auto-str conf-cron
	build/auto-str auto_cron < conf-cron > lib/auto_cron.c

lib/auto_cron.lo: \
libcompile lib/auto_cron.c
	./libcompile lib/auto_cron.c

lib/auto_etc.c: \
build/auto-str conf-etc
	build/auto-str auto_etc EZMLM_ETC < conf-etc > lib/auto_etc.c

lib/auto_etc.lo: \
libcompile lib/auto_etc.c
	./libcompile lib/auto_etc.c

lib/auto_lib.c: \
build/auto-str conf-lib
	build/auto-str auto_lib EZMLM_LIB < conf-lib > lib/auto_lib.c

lib/auto_lib.lo: \
libcompile lib/auto_lib.c
	./libcompile lib/auto_lib.c

lib/auto_qmail.c: \
build/auto-str conf-qmail
	build/auto-str auto_qmail < conf-qmail > lib/auto_qmail.c

lib/auto_qmail.lo: \
libcompile lib/auto_qmail.c
	./libcompile lib/auto_qmail.c

lib/auto_qmail.sh: \
build/auto-sh-str.sh conf-qmail
	sh build/auto-sh-str.sh QMPATH < conf-qmail > lib/auto_qmail.sh

lib/auto_version.c: \
build/auto-str VERSION
	build/auto-str auto_version < VERSION > lib/auto_version.c

lib/auto_version.lo: \
libcompile lib/auto_version.c
	./libcompile lib/auto_version.c

lib/byte_chr.lo: \
libcompile lib/byte_chr.c lib/byte.h
	./libcompile lib/byte_chr.c

lib/byte_rchr.lo: \
libcompile lib/byte_rchr.c lib/byte.h
	./libcompile lib/byte_rchr.c

lib/case.0: \
lib/case.3
	nroff -man lib/case.3 > lib/case.0

lib/case_diffb.lo: \
libcompile lib/case_diffb.c lib/case.h
	./libcompile lib/case_diffb.c

lib/case_diffs.lo: \
libcompile lib/case_diffs.c lib/case.h
	./libcompile lib/case_diffs.c

lib/case_lowerb.lo: \
libcompile lib/case_lowerb.c lib/case.h
	./libcompile lib/case_lowerb.c

lib/case_startb.lo: \
libcompile lib/case_startb.c lib/case.h
	./libcompile lib/case_startb.c

lib/case_starts.lo: \
libcompile lib/case_starts.c lib/case.h
	./libcompile lib/case_starts.c

lib/concatHDR.lo: \
libcompile lib/concatHDR.c lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/case.h lib/byte.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/concatHDR.c

lib/config.lo: \
libcompile lib/config.c lib/byte.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/die.h sys/hasattribute.h lib/messages.h lib/getconf.h lib/idx.h lib/slurp.h lib/str.h lib/byte.h lib/strerr.h sys/hasattribute.h lib/wrap.h
	./libcompile lib/config.c

lib/constmap.lo: \
libcompile lib/constmap.c lib/constmap.h lib/alloc.h lib/case.h
	./libcompile lib/constmap.c

lib/cookie.lo: \
libcompile lib/cookie.c lib/cookie.h lib/str.h lib/byte.h sys/uint32.h lib/surfpcs.h sys/uint32.h
	./libcompile lib/cookie.c

lib/copy.lo: \
libcompile lib/copy.c lib/stralloc.h lib/gen_alloc.h lib/substdio.h lib/strerr.h sys/hasattribute.h lib/str.h lib/byte.h lib/getln.h lib/case.h lib/readwrite.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/messages.h lib/error.h lib/quote.h lib/copy.h lib/cookie.h lib/datetime.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/altpath.h lib/byte.h lib/cookie.h lib/datetime.h lib/die.h sys/hasattribute.h lib/fmt.h lib/idx.h lib/config.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/copy.c

lib/date2yyyymm.lo: \
libcompile lib/date2yyyymm.c lib/yyyymm.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/date2yyyymm.c

lib/date822fmt.lo: \
libcompile lib/date822fmt.c lib/datetime.h lib/fmt.h lib/date822fmt.h
	./libcompile lib/date822fmt.c

lib/dateline.lo: \
libcompile lib/dateline.c lib/fmt.h lib/yyyymm.h lib/stralloc.h lib/gen_alloc.h lib/stralloc.h lib/gen_alloc.h lib/cgi.h sys/hasattribute.h
	./libcompile lib/dateline.c

lib/datetime.0: \
lib/datetime.3
	nroff -man lib/datetime.3 > lib/datetime.0

lib/datetime.lo: \
libcompile lib/datetime.c lib/datetime.h
	./libcompile lib/datetime.c

lib/decodeB.lo: \
libcompile lib/decodeB.c lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h sys/uint32.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/decodeB.c

lib/decodeHDR.lo: \
libcompile lib/decodeHDR.c lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/error.h lib/case.h lib/byte.h sys/uint32.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/decodeHDR.c

lib/decodeQ.lo: \
libcompile lib/decodeQ.c lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/messages.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/decodeQ.c

lib/die_badaddr.lo: \
libcompile lib/die_badaddr.c lib/strerr.h sys/hasattribute.h lib/messages.h lib/die.h sys/hasattribute.h
	./libcompile lib/die_badaddr.c

lib/die_badformat.lo: \
libcompile lib/die_badformat.c lib/strerr.h sys/hasattribute.h lib/messages.h lib/die.h sys/hasattribute.h
	./libcompile lib/die_badformat.c

lib/die_dow.lo: \
libcompile lib/die_dow.c lib/strerr.h sys/hasattribute.h lib/messages.h lib/die.h sys/hasattribute.h
	./libcompile lib/die_dow.c

lib/die_nomem.lo: \
libcompile lib/die_nomem.c lib/strerr.h sys/hasattribute.h lib/messages.h lib/die.h sys/hasattribute.h
	./libcompile lib/die_nomem.c

lib/die_sender.lo: \
libcompile lib/die_sender.c lib/strerr.h sys/hasattribute.h lib/messages.h lib/die.h sys/hasattribute.h
	./libcompile lib/die_sender.c

lib/die_usage.lo: \
libcompile lib/die_usage.c lib/strerr.h sys/hasattribute.h lib/messages.h lib/die.h sys/hasattribute.h
	./libcompile lib/die_usage.c

lib/direntry.0: \
lib/direntry.3
	nroff -man lib/direntry.3 > lib/direntry.0

lib/dmarc.lo: \
libcompile lib/dmarc.c lib/byte.h lib/die.h sys/hasattribute.h lib/dmarc.h lib/stralloc.h lib/gen_alloc.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h lib/str.h lib/byte.h
	./libcompile lib/dmarc.c

lib/dns_dfd.lo: \
libcompile lib/dns_dfd.c lib/error.h lib/alloc.h lib/byte.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_dfd.c

lib/dns_domain.lo: \
libcompile lib/dns_domain.c lib/error.h lib/alloc.h lib/case.h lib/byte.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_domain.c

lib/dns_dtda.lo: \
libcompile lib/dns_dtda.c lib/stralloc.h lib/gen_alloc.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_dtda.c

lib/dns_ip.lo: \
libcompile lib/dns_ip.c lib/stralloc.h lib/gen_alloc.h sys/uint16.h lib/byte.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_ip.c

lib/dns_ipq.lo: \
libcompile lib/dns_ipq.c lib/stralloc.h lib/gen_alloc.h lib/case.h lib/byte.h lib/str.h lib/byte.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_ipq.c

lib/dns_mx.lo: \
libcompile lib/dns_mx.c lib/stralloc.h lib/gen_alloc.h lib/byte.h sys/uint16.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_mx.c

lib/dns_name.lo: \
libcompile lib/dns_name.c lib/stralloc.h lib/gen_alloc.h sys/uint16.h lib/byte.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_name.c

lib/dns_nd.lo: \
libcompile lib/dns_nd.c lib/byte.h lib/fmt.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_nd.c

lib/dns_packet.lo: \
libcompile lib/dns_packet.c lib/error.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_packet.c

lib/dns_random.lo: \
libcompile lib/dns_random.c lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h lib/taia.h lib/tai.h sys/uint64.h sys/uint32.h
	./libcompile lib/dns_random.c

lib/dns_rcip.lo: \
libcompile lib/dns_rcip.c lib/taia.h lib/tai.h sys/uint64.h lib/openreadclose.h lib/stralloc.h lib/gen_alloc.h lib/byte.h lib/ip4.h lib/env.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_rcip.c

lib/dns_rcrw.lo: \
libcompile lib/dns_rcrw.c lib/taia.h lib/tai.h sys/uint64.h lib/env.h lib/byte.h lib/str.h lib/byte.h lib/openreadclose.h lib/stralloc.h lib/gen_alloc.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_rcrw.c

lib/dns_resolve.lo: \
libcompile lib/dns_resolve.c sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h lib/byte.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_resolve.c

lib/dns_sortip.lo: \
libcompile lib/dns_sortip.c lib/byte.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_sortip.c

lib/dns_transmit.lo: \
libcompile lib/dns_transmit.c lib/socket.h sys/uint16.h lib/alloc.h lib/error.h lib/byte.h sys/uint16.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_transmit.c

lib/dns_txt.lo: \
libcompile lib/dns_txt.c lib/stralloc.h lib/gen_alloc.h sys/uint16.h lib/byte.h lib/dns.h lib/stralloc.h lib/gen_alloc.h sys/iopause.h lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/dns_txt.c

lib/encodeB.lo: \
libcompile lib/encodeB.c lib/stralloc.h lib/gen_alloc.h sys/uint32.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/messages.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/encodeB.c

lib/encodeQ.lo: \
libcompile lib/encodeQ.c lib/messages.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/encodeQ.c

lib/env.0: \
lib/env.3
	nroff -man lib/env.3 > lib/env.0

lib/env.lo: \
libcompile lib/env.c lib/str.h lib/byte.h lib/alloc.h lib/env.h
	./libcompile lib/env.c

lib/envread.lo: \
libcompile lib/envread.c lib/env.h lib/str.h lib/byte.h
	./libcompile lib/envread.c

lib/error.0: \
lib/error.3
	nroff -man lib/error.3 > lib/error.0

lib/error.lo: \
libcompile lib/error.c lib/error.h
	./libcompile lib/error.c

lib/error_str.0: \
lib/error_str.3
	nroff -man lib/error_str.3 > lib/error_str.0

lib/error_str.lo: \
libcompile lib/error_str.c lib/error.h
	./libcompile lib/error_str.c

lib/error_temp.0: \
lib/error_temp.3
	nroff -man lib/error_temp.3 > lib/error_temp.0

lib/fd_copy.0: \
lib/fd_copy.3
	nroff -man lib/fd_copy.3 > lib/fd_copy.0

lib/fd_copy.lo: \
libcompile lib/fd_copy.c lib/fd.h
	./libcompile lib/fd_copy.c

lib/fd_move.0: \
lib/fd_move.3
	nroff -man lib/fd_move.3 > lib/fd_move.0

lib/fd_move.lo: \
libcompile lib/fd_move.c lib/fd.h
	./libcompile lib/fd_move.c

lib/fmt_str.lo: \
libcompile lib/fmt_str.c lib/fmt.h
	./libcompile lib/fmt_str.c

lib/fmt_uint.lo: \
libcompile lib/fmt_uint.c lib/fmt.h
	./libcompile lib/fmt_uint.c

lib/fmt_uint0.lo: \
libcompile lib/fmt_uint0.c lib/fmt.h
	./libcompile lib/fmt_uint0.c

lib/fmt_ulong.lo: \
libcompile lib/fmt_ulong.c lib/fmt.h
	./libcompile lib/fmt_ulong.c

lib/getconf.lo: \
libcompile lib/getconf.c lib/stralloc.h lib/gen_alloc.h lib/byte.h lib/slurp.h lib/strerr.h sys/hasattribute.h lib/getconf.h lib/altpath.h lib/die.h sys/hasattribute.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/copy.h lib/cookie.h lib/datetime.h lib/idx.h lib/wrap.h lib/messages.h
	./libcompile lib/getconf.c

lib/getconf_ulong.lo: \
libcompile lib/getconf_ulong.c lib/stralloc.h lib/gen_alloc.h lib/getconf.h lib/die.h sys/hasattribute.h lib/scan.h
	./libcompile lib/getconf_ulong.c

lib/getconfopt.lo: \
libcompile lib/getconfopt.c lib/config.h lib/stralloc.h lib/gen_alloc.h lib/die.h sys/hasattribute.h lib/getconf.h lib/getconfopt.h lib/str.h lib/byte.h
	./libcompile lib/getconfopt.c

lib/getconfopt_copy.lo: \
libcompile lib/getconfopt_copy.c lib/die.h sys/hasattribute.h lib/getconfopt.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/getconfopt_copy.c

lib/getconfopt_cstr.lo: \
libcompile lib/getconfopt_cstr.c lib/getconf.h lib/getconfopt.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/getconfopt_cstr.c

lib/getconfopt_cstr_flag.lo: \
libcompile lib/getconfopt_cstr_flag.c lib/getconf.h lib/getconfopt.h
	./libcompile lib/getconfopt_cstr_flag.c

lib/getconfopt_flag.lo: \
libcompile lib/getconfopt_flag.c lib/getconf.h lib/getconfopt.h
	./libcompile lib/getconfopt_flag.c

lib/getconfopt_str.lo: \
libcompile lib/getconfopt_str.c lib/die.h sys/hasattribute.h lib/getconf.h lib/getconfopt.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/getconfopt_str.c

lib/getconfopt_ulong.lo: \
libcompile lib/getconfopt_ulong.c lib/die.h sys/hasattribute.h lib/getconf.h lib/getconfopt.h lib/scan.h
	./libcompile lib/getconfopt_ulong.c

lib/getconfopt_ulong_flag.lo: \
libcompile lib/getconfopt_ulong_flag.c lib/getconf.h lib/getconfopt.h
	./libcompile lib/getconfopt_ulong_flag.c

lib/getconfopt_version.lo: \
libcompile lib/getconfopt_version.c lib/auto_version.h lib/getconfopt.h lib/strerr.h sys/hasattribute.h
	./libcompile lib/getconfopt_version.c

lib/gethdrln.lo: \
libcompile lib/gethdrln.c lib/substdio.h lib/byte.h lib/stralloc.h lib/gen_alloc.h lib/getln.h
	./libcompile lib/gethdrln.c

lib/getln.0: \
lib/getln.3
	nroff -man lib/getln.3 > lib/getln.0

lib/getln.lo: \
libcompile lib/getln.c lib/substdio.h lib/byte.h lib/stralloc.h lib/gen_alloc.h lib/getln.h
	./libcompile lib/getln.c

lib/getln2.0: \
lib/getln2.3
	nroff -man lib/getln2.3 > lib/getln2.0

lib/getln2.lo: \
libcompile lib/getln2.c lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/byte.h lib/getln.h
	./libcompile lib/getln2.c

lib/getopt.0: \
lib/getopt.3
	nroff -man lib/getopt.3 > lib/getopt.0

lib/hdr_add.lo: \
libcompile lib/hdr_add.c lib/hdr.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/hdr_add.c

lib/hdr_boundary.lo: \
libcompile lib/hdr_boundary.c lib/hdr.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/makehash.h
	./libcompile lib/hdr_boundary.c

lib/hdr_ctboundary.lo: \
libcompile lib/hdr_ctboundary.c lib/hdr.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/hdr_ctboundary.c

lib/hdr_datemsgid.lo: \
libcompile lib/hdr_datemsgid.c lib/hdr.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/stralloc.h lib/gen_alloc.h lib/datetime.h lib/fmt.h lib/date822fmt.h lib/makehash.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/hdr_datemsgid.c

lib/hdr_from.lo: \
libcompile lib/hdr_from.c lib/hdr.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/stralloc.h lib/gen_alloc.h lib/quote.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/hdr_from.c

lib/hdr_listsubject.lo: \
libcompile lib/hdr_listsubject.c lib/hdr.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/stralloc.h lib/gen_alloc.h lib/quote.h lib/die.h sys/hasattribute.h
	./libcompile lib/hdr_listsubject.c

lib/hdr_mime.lo: \
libcompile lib/hdr_mime.c lib/hdr.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/makehash.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h
	./libcompile lib/hdr_mime.c

lib/hdr_subject.lo: \
libcompile lib/hdr_subject.c lib/hdr.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/hdr_subject.c

lib/hdr_transferenc.lo: \
libcompile lib/hdr_transferenc.c lib/hdr.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/hdr_transferenc.c

lib/idxthread.lo: \
libcompile lib/idxthread.c lib/error.h lib/alloc.h lib/str.h lib/byte.h lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/lock.h lib/open.h lib/getln.h lib/scan.h lib/byte.h lib/die.h sys/hasattribute.h lib/idx.h lib/messages.h lib/substdio.h lib/fmt.h lib/readwrite.h lib/makehash.h lib/yyyymm.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/idxthread.c

lib/ip4_scan.lo: \
libcompile lib/ip4_scan.c lib/scan.h lib/ip4.h
	./libcompile lib/ip4_scan.c

lib/lock_ex.lo: \
libcompile lib/lock_ex.c sys/hasflock.h lib/lock.h
	./libcompile lib/lock_ex.c

lib/lockfile.lo: \
libcompile lib/lockfile.c lib/lock.h lib/messages.h lib/strerr.h sys/hasattribute.h lib/die.h sys/hasattribute.h lib/idx.h lib/open.h
	./libcompile lib/lockfile.c

lib/log.lo: \
libcompile lib/log.c lib/substdio.h lib/readwrite.h lib/stralloc.h lib/gen_alloc.h lib/log.h lib/now.h lib/datetime.h lib/fmt.h lib/open.h lib/sub_std.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/log.c

lib/makehash.lo: \
libcompile lib/makehash.c lib/stralloc.h lib/gen_alloc.h lib/byte.h lib/surf.h sys/uint32.h sys/uint32.h lib/makehash.h lib/die.h sys/hasattribute.h lib/idx.h lib/surfpcs.h sys/uint32.h
	./libcompile lib/makehash.c

lib/makepath.lo: \
libcompile lib/makepath.c lib/die.h sys/hasattribute.h lib/stralloc.h lib/gen_alloc.h lib/sub_std.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/makepath.c

lib/messages.lo: \
libcompile lib/messages.c lib/error.h lib/messages.h lib/altpath.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/constmap.h lib/copy.h lib/cookie.h lib/datetime.h lib/die.h sys/hasattribute.h lib/slurp.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/strerr.h sys/hasattribute.h messages-txt.c
	./libcompile lib/messages.c

lib/ndelay_on.lo: \
libcompile lib/ndelay_on.c lib/ndelay.h
	./libcompile lib/ndelay_on.c

lib/now.0: \
lib/now.3
	nroff -man lib/now.3 > lib/now.0

lib/now.lo: \
libcompile lib/now.c lib/datetime.h lib/now.h lib/datetime.h
	./libcompile lib/now.c

lib/open_append.lo: \
libcompile lib/open_append.c lib/open.h
	./libcompile lib/open_append.c

lib/open_read.lo: \
libcompile lib/open_read.c lib/open.h
	./libcompile lib/open_read.c

lib/open_trunc.lo: \
libcompile lib/open_trunc.c lib/open.h
	./libcompile lib/open_trunc.c

lib/openreadclose.lo: \
libcompile lib/openreadclose.c lib/error.h lib/open.h lib/readclose.h lib/stralloc.h lib/gen_alloc.h lib/openreadclose.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/openreadclose.c

lib/qmail.lo: \
libcompile lib/qmail.c lib/substdio.h lib/readwrite.h lib/wait.h lib/env.h lib/stralloc.h lib/gen_alloc.h lib/getconf.h lib/str.h lib/byte.h lib/exit.h lib/fork.h lib/fd.h lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/auto_qmail.h lib/alloc.h lib/stralloc.h lib/gen_alloc.h lib/idx.h
	./libcompile lib/qmail.c

lib/qmail_copy.lo: \
libcompile lib/qmail_copy.c lib/qmail.h lib/substdio.h lib/stralloc.h lib/gen_alloc.h lib/substdio.h
	./libcompile lib/qmail_copy.c

lib/quote.lo: \
libcompile lib/quote.c lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/quote.h
	./libcompile lib/quote.c

lib/readclose.lo: \
libcompile lib/readclose.c lib/error.h lib/readclose.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/readclose.c

lib/scan_8long.lo: \
libcompile lib/scan_8long.c lib/scan.h
	./libcompile lib/scan_8long.c

lib/scan_ulong.lo: \
libcompile lib/scan_ulong.c lib/scan.h
	./libcompile lib/scan_ulong.c

lib/seek_set.lo: \
libcompile lib/seek_set.c lib/seek.h
	./libcompile lib/seek_set.c

lib/sender.lo: \
libcompile lib/sender.c lib/die.h sys/hasattribute.h lib/env.h lib/str.h lib/byte.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/sender.c

lib/sgetopt.0: \
lib/sgetopt.3
	nroff -man lib/sgetopt.3 > lib/sgetopt.0

lib/sgetopt.lo: \
libcompile lib/sgetopt.c lib/substdio.h lib/subfd.h lib/substdio.h lib/sgetopt.h lib/subgetopt.h lib/subgetopt.h
	./libcompile lib/sgetopt.c

lib/sig_catch.lo: \
libcompile lib/sig_catch.c lib/sig.h sys/hassgact.h
	./libcompile lib/sig_catch.c

lib/sig_pipe.lo: \
libcompile lib/sig_pipe.c lib/sig.h
	./libcompile lib/sig_pipe.c

lib/slurp.lo: \
libcompile lib/slurp.c lib/stralloc.h lib/gen_alloc.h lib/slurp.h lib/slurpclose.h lib/error.h lib/open.h
	./libcompile lib/slurp.c

lib/slurpclose.lo: \
libcompile lib/slurpclose.c lib/stralloc.h lib/gen_alloc.h lib/readwrite.h lib/slurpclose.h lib/error.h
	./libcompile lib/slurpclose.c

lib/socket_bind.lo: \
libcompile lib/socket_bind.c lib/byte.h lib/socket.h sys/uint16.h
	./libcompile lib/socket_bind.c

lib/socket_conn.lo: \
libcompile lib/socket_conn.c lib/byte.h lib/socket.h sys/uint16.h
	./libcompile lib/socket_conn.c

lib/socket_tcp.lo: \
libcompile lib/socket_tcp.c lib/ndelay.h lib/socket.h sys/uint16.h
	./libcompile lib/socket_tcp.c

lib/socket_udp.lo: \
libcompile lib/socket_udp.c lib/ndelay.h lib/socket.h sys/uint16.h
	./libcompile lib/socket_udp.c

lib/str_chr.lo: \
libcompile lib/str_chr.c lib/str.h lib/byte.h
	./libcompile lib/str_chr.c

lib/str_rchr.lo: \
libcompile lib/str_rchr.c lib/str.h lib/byte.h
	./libcompile lib/str_rchr.c

lib/str_start.lo: \
libcompile lib/str_start.c lib/str.h lib/byte.h
	./libcompile lib/str_start.c

lib/stralloc.0: \
lib/stralloc.3
	nroff -man lib/stralloc.3 > lib/stralloc.0

lib/stralloc_arts.lo: \
libcompile lib/stralloc_arts.c lib/byte.h lib/str.h lib/byte.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/stralloc_arts.c

lib/stralloc_cat.lo: \
libcompile lib/stralloc_cat.c lib/byte.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/stralloc_cat.c

lib/stralloc_catb.lo: \
libcompile lib/stralloc_catb.c lib/stralloc.h lib/gen_alloc.h lib/byte.h
	./libcompile lib/stralloc_catb.c

lib/stralloc_cats.lo: \
libcompile lib/stralloc_cats.c lib/byte.h lib/str.h lib/byte.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/stralloc_cats.c

lib/stralloc_copy.lo: \
libcompile lib/stralloc_copy.c lib/byte.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/stralloc_copy.c

lib/stralloc_eady.lo: \
libcompile lib/stralloc_eady.c lib/alloc.h lib/stralloc.h lib/gen_alloc.h lib/gen_allocdefs.h
	./libcompile lib/stralloc_eady.c

lib/stralloc_num.lo: \
libcompile lib/stralloc_num.c lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/stralloc_num.c

lib/stralloc_opyb.lo: \
libcompile lib/stralloc_opyb.c lib/stralloc.h lib/gen_alloc.h lib/byte.h
	./libcompile lib/stralloc_opyb.c

lib/stralloc_opys.lo: \
libcompile lib/stralloc_opys.c lib/byte.h lib/str.h lib/byte.h lib/stralloc.h lib/gen_alloc.h
	./libcompile lib/stralloc_opys.c

lib/stralloc_pend.lo: \
libcompile lib/stralloc_pend.c lib/alloc.h lib/stralloc.h lib/gen_alloc.h lib/gen_allocdefs.h
	./libcompile lib/stralloc_pend.c

lib/strerr.lo: \
libcompile lib/strerr.c lib/error.h lib/exit.h lib/substdio.h lib/subfd.h lib/substdio.h lib/strerr.h sys/hasattribute.h
	./libcompile lib/strerr.c

lib/subdb.lo: \
libcompile lib/subdb.c lib/case.h lib/config.h lib/stralloc.h lib/gen_alloc.h lib/cookie.h lib/die.h sys/hasattribute.h lib/env.h lib/messages.h lib/fmt.h lib/scan.h lib/slurp.h lib/stralloc.h lib/gen_alloc.h lib/str.h lib/byte.h lib/strerr.h sys/hasattribute.h lib/subdb.h lib/stralloc.h lib/gen_alloc.h lib/auto_lib.h
	./libcompile lib/subdb.c

lib/subfd.0: \
lib/subfd.3
	nroff -man lib/subfd.3 > lib/subfd.0

lib/subfderr.lo: \
libcompile lib/subfderr.c lib/readwrite.h lib/substdio.h lib/subfd.h lib/substdio.h
	./libcompile lib/subfderr.c

lib/subfdin.lo: \
libcompile lib/subfdin.c lib/readwrite.h lib/substdio.h lib/subfd.h lib/substdio.h
	./libcompile lib/subfdin.c

lib/subfdout.lo: \
libcompile lib/subfdout.c lib/readwrite.h lib/substdio.h lib/subfd.h lib/substdio.h
	./libcompile lib/subfdout.c

lib/subgetopt.0: \
lib/subgetopt.3
	nroff -man lib/subgetopt.3 > lib/subgetopt.0

lib/subgetopt.lo: \
libcompile lib/subgetopt.c lib/subgetopt.h
	./libcompile lib/subgetopt.c

lib/subhash.lo: \
libcompile lib/subhash.c lib/subhash.h lib/str.h lib/byte.h
	./libcompile lib/subhash.c

lib/substdi.lo: \
libcompile lib/substdi.c lib/substdio.h lib/byte.h lib/error.h
	./libcompile lib/substdi.c

lib/substdio.0: \
lib/substdio.3
	nroff -man lib/substdio.3 > lib/substdio.0

lib/substdio.lo: \
libcompile lib/substdio.c lib/substdio.h
	./libcompile lib/substdio.c

lib/substdio_copy.0: \
lib/substdio_copy.3
	nroff -man lib/substdio_copy.3 > lib/substdio_copy.0

lib/substdio_copy.lo: \
libcompile lib/substdio_copy.c lib/substdio.h
	./libcompile lib/substdio_copy.c

lib/substdio_in.0: \
lib/substdio_in.3
	nroff -man lib/substdio_in.3 > lib/substdio_in.0

lib/substdio_out.0: \
lib/substdio_out.3
	nroff -man lib/substdio_out.3 > lib/substdio_out.0

lib/substdo.lo: \
libcompile lib/substdo.c lib/substdio.h lib/str.h lib/byte.h lib/byte.h lib/error.h
	./libcompile lib/substdo.c

lib/surf.0: \
lib/surf.3
	nroff -man lib/surf.3 > lib/surf.0

lib/surf.lo: \
libcompile lib/surf.c lib/surf.h sys/uint32.h
	./libcompile lib/surf.c

lib/surfpcs.0: \
lib/surfpcs.3
	nroff -man lib/surfpcs.3 > lib/surfpcs.0

lib/surfpcs.lo: \
libcompile lib/surfpcs.c lib/surf.h sys/uint32.h lib/surfpcs.h sys/uint32.h
	./libcompile lib/surfpcs.c

lib/tai_pack.lo: \
libcompile lib/tai_pack.c lib/tai.h sys/uint64.h
	./libcompile lib/tai_pack.c

lib/taia_add.lo: \
libcompile lib/taia_add.c lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/taia_add.c

lib/taia_approx.lo: \
libcompile lib/taia_approx.c lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/taia_approx.c

lib/taia_frac.lo: \
libcompile lib/taia_frac.c lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/taia_frac.c

lib/taia_less.lo: \
libcompile lib/taia_less.c lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/taia_less.c

lib/taia_now.lo: \
libcompile lib/taia_now.c lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/taia_now.c

lib/taia_pack.lo: \
libcompile lib/taia_pack.c lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/taia_pack.c

lib/taia_sub.lo: \
libcompile lib/taia_sub.c lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/taia_sub.c

lib/taia_uint.lo: \
libcompile lib/taia_uint.c lib/taia.h lib/tai.h sys/uint64.h
	./libcompile lib/taia_uint.c

lib/unfoldHDR.lo: \
libcompile lib/unfoldHDR.c lib/stralloc.h lib/gen_alloc.h lib/strerr.h sys/hasattribute.h lib/case.h lib/byte.h lib/messages.h lib/mime.h lib/stralloc.h lib/gen_alloc.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/unfoldHDR.c

lib/wait.0: \
lib/wait.3
	nroff -man lib/wait.3 > lib/wait.0

lib/wait_pid.lo: \
libcompile lib/wait_pid.c lib/error.h sys/haswaitp.h
	./libcompile lib/wait_pid.c

lib/wrap_chdir.lo: \
libcompile lib/wrap_chdir.c lib/messages.h lib/strerr.h sys/hasattribute.h lib/wrap.h lib/die.h sys/hasattribute.h
	./libcompile lib/wrap_chdir.c

lib/wrap_execbin.lo: \
libcompile lib/wrap_execbin.c lib/auto_bin.h lib/stralloc.h lib/gen_alloc.h lib/wrap.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/wrap_execbin.c

lib/wrap_execsh.lo: \
libcompile lib/wrap_execsh.c lib/wrap.h
	./libcompile lib/wrap_execsh.c

lib/wrap_execv.lo: \
libcompile lib/wrap_execv.c lib/error.h lib/messages.h lib/strerr.h sys/hasattribute.h lib/wrap.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/wrap_execv.c

lib/wrap_exitcode.lo: \
libcompile lib/wrap_exitcode.c lib/messages.h lib/strerr.h sys/hasattribute.h lib/wrap.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/wrap_exitcode.c

lib/wrap_fork.lo: \
libcompile lib/wrap_fork.c lib/fork.h lib/messages.h lib/strerr.h sys/hasattribute.h lib/wrap.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/wrap_fork.c

lib/wrap_rename.lo: \
libcompile lib/wrap_rename.c lib/die.h sys/hasattribute.h lib/messages.h lib/strerr.h sys/hasattribute.h lib/wrap.h
	./libcompile lib/wrap_rename.c

lib/wrap_stat.lo: \
libcompile lib/wrap_stat.c lib/error.h lib/messages.h lib/strerr.h sys/hasattribute.h lib/wrap.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/wrap_stat.c

lib/wrap_waitpid.lo: \
libcompile lib/wrap_waitpid.c lib/wait.h lib/messages.h lib/strerr.h sys/hasattribute.h lib/wrap.h lib/die.h sys/hasattribute.h lib/idx.h
	./libcompile lib/wrap_waitpid.c

libcompile: \
build/make-libcompile.sh warn-auto.sh systype conf-cc conf-cclo conf-ld conf-ldso
	( cat warn-auto.sh; sh build/make-libcompile.sh "`cat systype`" ) > libcompile
	chmod 755 libcompile

libezmlm.a: \
makelib lib/alloc.lo lib/alloc_re.lo lib/altpath.lo lib/author.lo lib/auto_bin.lo lib/auto_cron.lo lib/auto_etc.lo lib/auto_lib.lo lib/auto_qmail.lo lib/auto_version.lo lib/byte_chr.lo lib/byte_rchr.lo lib/case_diffb.lo lib/case_diffs.lo lib/case_lowerb.lo lib/case_startb.lo lib/case_starts.lo lib/concatHDR.lo lib/config.lo lib/constmap.lo lib/cookie.lo lib/copy.lo lib/date2yyyymm.lo lib/date822fmt.lo lib/dateline.lo lib/datetime.lo lib/decodeB.lo lib/decodeHDR.lo lib/decodeQ.lo lib/die_badaddr.lo lib/die_badformat.lo lib/die_dow.lo lib/die_nomem.lo lib/die_sender.lo lib/die_usage.lo lib/dmarc.lo lib/dns_dfd.lo lib/dns_domain.lo lib/dns_dtda.lo lib/dns_ip.lo lib/dns_ipq.lo lib/dns_mx.lo lib/dns_name.lo lib/dns_nd.lo lib/dns_packet.lo lib/dns_random.lo lib/dns_rcip.lo lib/dns_rcrw.lo lib/dns_resolve.lo lib/dns_sortip.lo lib/dns_transmit.lo lib/dns_txt.lo lib/encodeB.lo lib/encodeQ.lo lib/env.lo lib/envread.lo lib/error.lo lib/error_str.lo lib/fd_copy.lo lib/fd_move.lo lib/fmt_str.lo lib/fmt_uint.lo lib/fmt_uint0.lo lib/fmt_ulong.lo lib/getconf.lo lib/getconf_ulong.lo lib/gethdrln.lo lib/getln.lo lib/getln2.lo lib/getconfopt.lo lib/getconfopt_copy.lo lib/getconfopt_cstr.lo lib/getconfopt_cstr_flag.lo lib/getconfopt_flag.lo lib/getconfopt_str.lo lib/getconfopt_ulong.lo lib/getconfopt_ulong_flag.lo lib/getconfopt_version.lo lib/hdr_add.lo lib/hdr_boundary.lo lib/hdr_ctboundary.lo lib/hdr_datemsgid.lo lib/hdr_from.lo lib/hdr_listsubject.lo lib/hdr_mime.lo lib/hdr_subject.lo lib/hdr_transferenc.lo lib/idxthread.lo lib/ip4_scan.lo lib/lock_ex.lo lib/lockfile.lo lib/log.lo lib/makehash.lo lib/makepath.lo lib/messages.lo lib/ndelay_on.lo lib/now.lo lib/open_append.lo lib/openreadclose.lo lib/open_read.lo lib/open_trunc.lo lib/qmail.lo lib/qmail_copy.lo lib/quote.lo lib/readclose.lo lib/scan_8long.lo lib/scan_ulong.lo lib/seek_set.lo lib/sender.lo lib/sgetopt.lo lib/sig_catch.lo lib/sig_pipe.lo lib/slurp.lo lib/slurpclose.lo lib/socket_bind.lo lib/socket_conn.lo lib/socket_tcp.lo lib/socket_udp.lo lib/str_chr.lo lib/str_rchr.lo lib/str_start.lo lib/stralloc_arts.lo lib/stralloc_cat.lo lib/stralloc_catb.lo lib/stralloc_cats.lo lib/stralloc_copy.lo lib/stralloc_eady.lo lib/stralloc_num.lo lib/stralloc_opyb.lo lib/stralloc_opys.lo lib/stralloc_pend.lo lib/strerr.lo lib/subdb.lo lib/subfderr.lo lib/subfdin.lo lib/subfdout.lo lib/subgetopt.lo lib/subhash.lo lib/substdi.lo lib/substdio.lo lib/substdio_copy.lo lib/substdo.lo lib/surf.lo lib/surfpcs.lo lib/taia_add.lo lib/taia_approx.lo lib/taia_frac.lo lib/taia_less.lo lib/taia_now.lo lib/taia_pack.lo lib/taia_sub.lo lib/taia_uint.lo lib/tai_pack.lo lib/unfoldHDR.lo lib/wait_pid.lo lib/wrap_chdir.lo lib/wrap_execbin.lo lib/wrap_execsh.lo lib/wrap_execv.lo lib/wrap_exitcode.lo lib/wrap_fork.lo lib/wrap_rename.lo lib/wrap_stat.lo lib/wrap_waitpid.lo sys/iopause.lo sys/uint16_pack.lo sys/uint16_unpack.lo sys/uint32_unpack.lo
	./makelib libezmlm.a lib/alloc.lo lib/alloc_re.lo lib/altpath.lo lib/author.lo lib/auto_bin.lo lib/auto_cron.lo lib/auto_etc.lo lib/auto_lib.lo lib/auto_qmail.lo lib/auto_version.lo lib/byte_chr.lo lib/byte_rchr.lo lib/case_diffb.lo lib/case_diffs.lo lib/case_lowerb.lo lib/case_startb.lo lib/case_starts.lo lib/concatHDR.lo lib/config.lo lib/constmap.lo lib/cookie.lo lib/copy.lo lib/date2yyyymm.lo lib/date822fmt.lo lib/dateline.lo lib/datetime.lo lib/decodeB.lo lib/decodeHDR.lo lib/decodeQ.lo lib/die_badaddr.lo lib/die_badformat.lo lib/die_dow.lo lib/die_nomem.lo lib/die_sender.lo lib/die_usage.lo lib/dmarc.lo lib/dns_dfd.lo lib/dns_domain.lo lib/dns_dtda.lo lib/dns_ip.lo lib/dns_ipq.lo lib/dns_mx.lo lib/dns_name.lo lib/dns_nd.lo lib/dns_packet.lo lib/dns_random.lo lib/dns_rcip.lo lib/dns_rcrw.lo lib/dns_resolve.lo lib/dns_sortip.lo lib/dns_transmit.lo lib/dns_txt.lo lib/encodeB.lo lib/encodeQ.lo lib/env.lo lib/envread.lo lib/error.lo lib/error_str.lo lib/fd_copy.lo lib/fd_move.lo lib/fmt_str.lo lib/fmt_uint.lo lib/fmt_uint0.lo lib/fmt_ulong.lo lib/getconf.lo lib/getconf_ulong.lo lib/gethdrln.lo lib/getln.lo lib/getln2.lo lib/getconfopt.lo lib/getconfopt_copy.lo lib/getconfopt_cstr.lo lib/getconfopt_cstr_flag.lo lib/getconfopt_flag.lo lib/getconfopt_str.lo lib/getconfopt_ulong.lo lib/getconfopt_ulong_flag.lo lib/getconfopt_version.lo lib/hdr_add.lo lib/hdr_boundary.lo lib/hdr_ctboundary.lo lib/hdr_datemsgid.lo lib/hdr_from.lo lib/hdr_listsubject.lo lib/hdr_mime.lo lib/hdr_subject.lo lib/hdr_transferenc.lo lib/idxthread.lo lib/ip4_scan.lo lib/lock_ex.lo lib/lockfile.lo lib/log.lo lib/makehash.lo lib/makepath.lo lib/messages.lo lib/ndelay_on.lo lib/now.lo lib/open_append.lo lib/openreadclose.lo lib/open_read.lo lib/open_trunc.lo lib/qmail.lo lib/qmail_copy.lo lib/quote.lo lib/readclose.lo lib/scan_8long.lo lib/scan_ulong.lo lib/seek_set.lo lib/sender.lo lib/sgetopt.lo lib/sig_catch.lo lib/sig_pipe.lo lib/slurp.lo lib/slurpclose.lo lib/socket_bind.lo lib/socket_conn.lo lib/socket_tcp.lo lib/socket_udp.lo lib/str_chr.lo lib/str_rchr.lo lib/str_start.lo lib/stralloc_arts.lo lib/stralloc_cat.lo lib/stralloc_catb.lo lib/stralloc_cats.lo lib/stralloc_copy.lo lib/stralloc_eady.lo lib/stralloc_num.lo lib/stralloc_opyb.lo lib/stralloc_opys.lo lib/stralloc_pend.lo lib/strerr.lo lib/subdb.lo lib/subfderr.lo lib/subfdin.lo lib/subfdout.lo lib/subgetopt.lo lib/subhash.lo lib/substdi.lo lib/substdio.lo lib/substdio_copy.lo lib/substdo.lo lib/surf.lo lib/surfpcs.lo lib/taia_add.lo lib/taia_approx.lo lib/taia_frac.lo lib/taia_less.lo lib/taia_now.lo lib/taia_pack.lo lib/taia_sub.lo lib/taia_uint.lo lib/tai_pack.lo lib/unfoldHDR.lo lib/wait_pid.lo lib/wrap_chdir.lo lib/wrap_execbin.lo lib/wrap_execsh.lo lib/wrap_execv.lo lib/wrap_exitcode.lo lib/wrap_fork.lo lib/wrap_rename.lo lib/wrap_stat.lo lib/wrap_waitpid.lo sys/iopause.lo sys/uint16_pack.lo sys/uint16_unpack.lo sys/uint32_unpack.lo

load: \
build/make-load.sh warn-auto.sh systype conf-cc conf-cclo conf-ld conf-ldso
	( cat warn-auto.sh; sh build/make-load.sh "`cat systype`" ) > load
	chmod 755 load

m.lib: \
compile load sys/trylib.c
	( ( ./compile sys/trylib.c && ./load sys/trylib -lm ) >/dev/null 2>&1 && echo -lm || exit 0 ) >m.lib
	rm -f sys/trylib.o sys/trylib

makelib: \
build/make-makelib.sh warn-auto.sh systype conf-cc conf-cclo conf-ld conf-ldso
	( cat warn-auto.sh; sh build/make-makelib.sh "`cat systype`" ) > makelib
	chmod 755 makelib

makeso: \
build/make-makeso.sh warn-auto.sh systype conf-cc conf-cclo conf-ld conf-ldso
	( cat warn-auto.sh; sh build/make-makeso.sh "`cat systype`" ) > makeso
	chmod 755 makeso

man: \
bin/ezmlm-rmtab.0 bin/ezmlm-weed.0 bin/ezmlm-glconf.0 bin/ezmlm-split.0 bin/ezmlm-unsub.0 bin/ezmlm-moderate.0 bin/ezmlm-idx.0 bin/ezmlm-gate.0 bin/ezmlm-cgi.0 bin/ezmlm-limit.0 bin/ezmlm-list.0 bin/ezmlm-store.0 bin/ezmlm-sub.0 bin/ezmlm-archive.0 bin/ezmlm-cron.0 bin/ezmlm-issubn.0 bin/ezmlm-request.0 bin/ezmlm-return.0 bin/ezmlm-make.0 bin/ezmlm-confirm.0 bin/ezmlm-tstdig.0 bin/ezmlm-import.0 bin/ezmlm-warn.0 bin/ezmlm-checksub.0 bin/ezmlm-receipt.0 bin/ezmlm-manage.0 bin/ezmlm-test.0 bin/ezmlm-reject.0 bin/ezmlm-send.0 bin/ezmlm-clean.0 bin/ezmlm-check.0 bin/ezmlm-accept.0 bin/ezmlm-get.0 bin/ezmlm-dispatch.0 lib/substdio.0 lib/case.0 lib/fd_copy.0 lib/fd_move.0 lib/direntry.0 lib/now.0 lib/getln2.0 lib/substdio_copy.0 lib/error_temp.0 lib/subfd.0 lib/env.0 lib/substdio_in.0 lib/getopt.0 lib/surf.0 lib/surfpcs.0 lib/error.0 lib/alloc.0 lib/sgetopt.0 lib/error_str.0 lib/datetime.0 lib/subgetopt.0 lib/getln.0 lib/wait.0 lib/substdio_out.0 lib/stralloc.0 ezmlm.0 ezmlm.0 ezmlmglrc.0 ezmlmsubrc.0 ezmlmrc.0

messages-txt.c: \
build/make-messages-c.sh conf-lang Makefile lang/cs/messages lang/de/messages lang/sv/messages lang/fr/messages lang/da/messages lang/nl/messages lang/pl/messages lang/pt_BR/messages lang/pt/messages lang/id/messages lang/it/messages lang/en_US/messages lang/hu/messages
	sh build/make-messages-c.sh < lang/$$(head -n 1 conf-lang)/messages >messages-txt.c

messages.all: \
lang/cs/text/messages lang/de/text/messages lang/sv/text/messages lang/fr/text/messages lang/da/text/messages lang/nl/text/messages lang/pl/text/messages lang/pt_BR/text/messages lang/pt/text/messages lang/id/text/messages lang/it/text/messages lang/en_US/text/messages lang/hu/text/messages

mysql: \
db/sub-mysql.so

nsl.lib: \
compile load sys/trylib.c
	( ( ./compile sys/trylib.c && ./load sys/trylib -lnsl ) >/dev/null 2>&1 && echo -lnsl || exit 0 ) >nsl.lib
	rm -f sys/trylib.o sys/trylib

pgsql: \
db/sub-pgsql.so

sqlite3: \
db/sub-sqlite3.so

sys/direntry.h: \
build/choose compile sys/trydrent.c sys/direntry.h1 sys/direntry.h2
	build/choose c sys/trydrent sys/direntry.h1 sys/direntry.h2 > sys/direntry.h

sys/hasattribute.h: \
build/choose compile sys/tryattribute.c sys/hasattribute.h1 sys/hasattribute.h2
	build/choose c sys/tryattribute sys/hasattribute.h1 sys/hasattribute.h2 > sys/hasattribute.h

sys/hasflock.h: \
build/choose compile load sys/tryflock.c sys/hasflock.h1 sys/hasflock.h2
	build/choose cl sys/tryflock sys/hasflock.h1 sys/hasflock.h2 > sys/hasflock.h

sys/hassgact.h: \
build/choose compile load sys/trysgact.c sys/hassgact.h1 sys/hassgact.h2
	build/choose cl sys/trysgact sys/hassgact.h1 sys/hassgact.h2 > sys/hassgact.h

sys/haswaitp.h: \
build/choose compile load sys/trywaitp.c sys/haswaitp.h1 sys/haswaitp.h2
	build/choose cl sys/trywaitp sys/haswaitp.h1 sys/haswaitp.h2 > sys/haswaitp.h

sys/iopause.h: \
build/choose compile load sys/trypoll.c sys/iopause.h1 sys/iopause.h2
	build/choose clr sys/trypoll sys/iopause.h1 sys/iopause.h2 > sys/iopause.h

sys/iopause.lo: \
libcompile sys/iopause.c lib/taia.h lib/tai.h sys/uint64.h sys/select.h sys/iopause.h
	./libcompile sys/iopause.c

sys/select.h: \
build/choose compile sys/trysysel.c sys/select.h1 sys/select.h2
	build/choose c sys/trysysel sys/select.h1 sys/select.h2 > sys/select.h

sys/uint16_pack.lo: \
libcompile sys/uint16_pack.c sys/uint16.h
	./libcompile sys/uint16_pack.c

sys/uint16_unpack.lo: \
libcompile sys/uint16_unpack.c sys/uint16.h
	./libcompile sys/uint16_unpack.c

sys/uint32.h: \
build/choose compile load sys/tryulong32.c sys/uint32.h1 sys/uint32.h2
	build/choose clr sys/tryulong32 sys/uint32.h1 sys/uint32.h2 > sys/uint32.h

sys/uint32_unpack.lo: \
libcompile sys/uint32_unpack.c sys/uint32.h
	./libcompile sys/uint32_unpack.c

sys/uint64.h: \
build/choose compile load sys/tryulong64.c sys/uint64.h1 sys/uint64.h2
	build/choose clr sys/tryulong64 sys/uint64.h1 sys/uint64.h2 > sys/uint64.h

systype: \
build/find-systype.sh sys/trycpp.c
	sh build/find-systype.sh > systype

targets: \
all install

test/getconfopt: \
load test/getconfopt.o libezmlm.a
	./load test/getconfopt -lezmlm

test/getconfopt.o: \
compile test/getconfopt.c lib/fmt.h lib/sgetopt.h lib/subgetopt.h lib/getconfopt.h lib/stralloc.h lib/gen_alloc.h lib/substdio.h
	./compile test/getconfopt.c
